Description,Target,Expression
#,,
,tour_mode,"reindex(tours.tour_mode, df.tour_id)"
,tour_mode_is_transit,(tour_mode == 'WALK_ALLTRN')|(tour_mode == 'WALK_PRMTRN')|(tour_mode == 'PNR_ALLTRN')|(tour_mode == 'PNR_PRMTRN')|(tour_mode == 'KNR_ALLTRN')|(tour_mode == 'KNR_PRMTRN') 
,tour_mode_is_shared_ride,(tour_mode == 'SHARED2FREE')|(tour_mode == 'SHARED2PAY')|(tour_mode == 'SHARED3FREE')|(tour_mode == 'SHARED3PAY')
,_tod,"np.where(df.outbound,reindex_i(tours.start, df.tour_id),reindex_i(tours.end, df.tour_id))"
,trip_period,skim_time_period_label(_tod)
,is_joint,"reindex(tours.tour_category, df.tour_id)=='joint'"
 test,org_to_stop_dist,"skim_dict.get(('SOV_FREE_DISTANCE', 'MD'))"
#,org_to_stop_dist,"odt_skims(('SOV_FREE_DISTANCE', 'MD'))"
#,stop_to_dest_dist,"dpt_skims[('SOV_FREE_DISTANCE', 'MD')]"
#,od_distance,"od_skims[('SOV_FREE_DISTANCE', 'MD')]"
#,org_to_stop_dist,"od_skims[('SOV_FREE_DISTANCE', 'MD')]"
#,stop_to_dest_dist,"dp_skims[('SOV_FREE_DISTANCE', 'MD')]"
#,od_distance,"od_skims[('SOV_FREE_DISTANCE', 'MD')]"
#,,not needed as school is not chosen as an intermediate trip destination
#,_grade_school,"(df.primary_purpose == 'school') & reindex(persons.is_gradeschool, df.person_id)"
#,size_segment,"df.primary_purpose.where(df.primary_purpose != 'school', np.where(_grade_school,'gradeschool', 'highschool'))"
