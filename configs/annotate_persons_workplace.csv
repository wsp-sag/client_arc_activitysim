Description,Target,Expression
Maximum Work Tour Time (minutes),_MAX_TIME_TO_WORK,999
local scalar distance skim,_SOVMD_SKIM,"skim_dict.get(('SOV_FREE_TIME', 'MD'))"
#,,roundtrip_auto_time_to_work
Auto Time to Work,_auto_time_home_to_work,"_SOVMD_SKIM.get(persons.TAZ, persons.workplace_taz)"
Auto Time from Work,_auto_time_work_to_home,"_SOVMD_SKIM.get(persons.workplace_taz, persons.TAZ)"
Auto Work Tour Time,roundtrip_auto_time_to_work,"np.where(persons.workplace_taz>=0,_auto_time_home_to_work + _auto_time_work_to_home,0)"
Auto Time to School,_auto_time_home_to_school,"_SOVMD_SKIM.get(persons.TAZ, persons.school_taz)"
Auto Time from School,_auto_time_school_to_home,"_SOVMD_SKIM.get(persons.school_taz, persons.TAZ)"
Auto School Tour Time,roundtrip_auto_time_to_school,"np.where(persons.school_taz>=0,_auto_time_home_to_school + _auto_time_school_to_home,0)"
# TODO: Ensure this is set consistently throughout the model
Walk Speed,_WALK_SPEED_MPH,3
Walk Distance Skim,_DISTWALK_SKIM,"skim_dict.get(('SOV_FREE_DISTANCE', 'MD'))"
Walk Time to Work,_walk_time_home_to_work,"60 * _DISTWALK_SKIM.get(persons.TAZ, persons.workplace_taz)/_WALK_SPEED_MPH"
Walk Time from Work,_walk_time_work_to_home,"60 * _DISTWALK_SKIM.get(persons.workplace_taz, persons.TAZ)/_WALK_SPEED_MPH"
Walk Time to School,_walk_time_home_to_school,"60 * _DISTWALK_SKIM.get(persons.TAZ, persons.school_taz)/_WALK_SPEED_MPH"
Walk Time from School,_walk_time_school_to_home,"60 * _DISTWALK_SKIM.get(persons.school_taz, persons.TAZ)/_WALK_SPEED_MPH"
Is Walk Work Tour Available?,_work_walk_available,(_walk_time_home_to_work > 0) & (_walk_time_work_to_home > 0)
Is School Work Tour Available?,_school_walk_available,(_walk_time_home_to_school > 0) & (_walk_time_school_to_home > 0)
Walk Work Tour Time,_roundtrip_walk_time_to_work,"np.where(_work_walk_available, _walk_time_home_to_work + _walk_time_work_to_home, _MAX_TIME_TO_WORK)"
Walk Work Tour Time,_roundtrip_walk_time_to_school,"np.where(_school_walk_available, _walk_time_home_to_school + _walk_time_school_to_home, _MAX_TIME_TO_WORK)"
Midday IVT Walk Transit Skim,_IVT_SKIM,"skim_dict.get(('WLK_ALLTRN_WLK_IVT', 'MD'))"
# TODO: Does ARC store IVT * 100 like MTC?,,
Is Home to Work Transit Trip Available,_transit_ivt_home_to_work,"_IVT_SKIM.get(persons.TAZ, persons.workplace_taz)/100"
Is Work to Home Transit Trip Available,_transit_ivt_work_to_home,"_IVT_SKIM.get(persons.workplace_taz, persons.TAZ)/100"
Is Home to School Transit Trip Available,_transit_ivt_home_to_school,"_IVT_SKIM.get(persons.TAZ, persons.school_taz)/100"
Is Work to School Transit Trip Available,_transit_ivt_school_to_home,"_IVT_SKIM.get(persons.school_taz, persons.TAZ)/100"
Transit Initial Wait Time,_IWAIT_SKIM,"skim_dict.get(('WLK_ALLTRN_WLK_IWAIT', 'MD'))"
Work Tour Transit Initial Wait Time,_transit_iwait,"_IWAIT_SKIM.get(persons.TAZ, persons.workplace_taz)/100 + _IWAIT_SKIM.get(persons.workplace_taz, persons.TAZ)/100"
School Tour Transit Initial Wait Time,_transit_iwait_school,"_IWAIT_SKIM.get(persons.TAZ, persons.school_taz)/100 + _IWAIT_SKIM.get(persons.school_taz, persons.TAZ)/100"
Transit Initial Transfer Time,_XWAIT_SKIM,"skim_dict.get(('WLK_ALLTRN_WLK_XWAIT', 'MD'))"
Work Tour Transit Transfer Time,_transit_xwait,"_XWAIT_SKIM.get(persons.TAZ, persons.workplace_taz)/100 + _XWAIT_SKIM.get(persons.workplace_taz, persons.TAZ)/100"
School Tour Transit Transfer Time,_transit_xwait_school,"_XWAIT_SKIM.get(persons.TAZ, persons.school_taz)/100 + _XWAIT_SKIM.get(persons.school_taz, persons.TAZ)/100"
Transit Walk Time,_WALK_SKIM,"skim_dict.get(('WLK_ALLTRN_WLK_WALK', 'MD'))"
Work Tour Transit Walk Access Time,_transit_walk,"_WALK_SKIM.get(persons.TAZ, persons.workplace_taz)/100 + _WALK_SKIM.get(persons.workplace_taz, persons.TAZ)/100"
School Tour Transit Walk Access Time,_transit_walk_school,"_WALK_SKIM.get(persons.TAZ, persons.school_taz)/100 + _WALK_SKIM.get(persons.school_taz, persons.TAZ)/100"
Work Tour Transit Travel Time,_roundtrip_transit_time_to_work,_transit_ivt_home_to_work + _transit_ivt_work_to_home + _transit_iwait + _transit_xwait + _transit_walk
School Tour Transit Travel Time,_roundtrip_transit_time_to_school,_transit_ivt_home_to_school + _transit_ivt_school_to_home + _transit_iwait_school + _transit_xwait_school + _transit_walk_school
Is Transit Work Tour Available,_work_transit_available,(_transit_ivt_home_to_work > 0) & (_transit_ivt_work_to_home > 0)
Is Transit School Tour Available,_school_transit_available,(_transit_ivt_home_to_school > 0) & (_transit_ivt_school_to_home > 0)
Walk / Transit to Work Time,_min_work_walk_transit,"np.where(_work_transit_available, np.minimum(_roundtrip_transit_time_to_work, _roundtrip_walk_time_to_work), _roundtrip_walk_time_to_work)"
Walk / Transit to School Time,_min_school_walk_transit,"np.where(_school_transit_available, np.minimum(_roundtrip_transit_time_to_school, _roundtrip_walk_time_to_school), _roundtrip_walk_time_to_school)"
Midday IVT Walk Premium Skim,_IVT_PREM,"skim_dict.get(('WLK_PRMTRN_WLK_IVT', 'MD'))"
# TODO: Does ARC store IVT * 100 like MTC?,,
Is Home to Work Prem. Transit Trip Available,_premium_ivt_home_to_work,"_IVT_PREM.get(persons.TAZ, persons.workplace_taz)/100"
Is Work to Home Prem. Transit Trip Available,_premium_ivt_work_to_home,"_IVT_PREM.get(persons.workplace_taz, persons.TAZ)/100"
Is Home to Work Prem. Transit Trip Available,_premium_ivt_home_to_school,"_IVT_PREM.get(persons.TAZ, persons.school_taz)/100"
Is Work to Home Prem. Transit Trip Available,_premium_ivt_school_to_home,"_IVT_PREM.get(persons.school_taz, persons.TAZ)/100"
Transit Initial Wait Time,_IWAIT_PREM,"skim_dict.get(('WLK_PRMTRN_WLK_IWAIT', 'MD'))"
Work Tour Premium Initial Wait Time,_premium_iwait,"_IWAIT_PREM.get(persons.TAZ, persons.workplace_taz)/100 + _IWAIT_SKIM.get(persons.workplace_taz, persons.TAZ)/100"
School Tour Premium Initial Wait Time,_premium_iwait_school,"_IWAIT_PREM.get(persons.TAZ, persons.school_taz)/100 + _IWAIT_SKIM.get(persons.school_taz, persons.TAZ)/100"
Transit Initial Transfer Time,_XWAIT_PREM,"skim_dict.get(('WLK_PRMTRN_WLK_XWAIT', 'MD'))"
Work Tour Premium Transfer Time,_premium_xwait,"_XWAIT_PREM.get(persons.TAZ, persons.workplace_taz)/100 + _XWAIT_SKIM.get(persons.workplace_taz, persons.TAZ)/100"
School Tour Premium Transfer Time,_premium_xwait_school,"_XWAIT_PREM.get(persons.TAZ, persons.school_taz)/100 + _XWAIT_SKIM.get(persons.school_taz, persons.TAZ)/100"
Transit Walk Time,_WALK_PREM,"skim_dict.get(('WLK_PRMTRN_WLK_WALK', 'MD'))"
Work Tour Premium Walk Access Time,_premium_walk,"_WALK_PREM.get(persons.TAZ, persons.workplace_taz)/100 + _WALK_PREM.get(persons.workplace_taz, persons.TAZ)/100"
School Tour Premium Walk Access Time,_premium_walk_school,"_WALK_PREM.get(persons.TAZ, persons.school_taz)/100 + _WALK_PREM.get(persons.school_taz, persons.TAZ)/100"
Work Tour Premium Travel Time,_roundtrip_premium_time_to_work,_premium_ivt_home_to_work + _premium_ivt_work_to_home + _premium_iwait + _premium_xwait + _premium_walk
School Tour Premium Travel Time,_roundtrip_premium_time_to_school,_premium_ivt_home_to_school + _premium_ivt_school_to_home + _premium_iwait_school + _premium_xwait_school + _premium_walk_school
Is Premium Work Tour Available,_work_premium_available,(_premium_ivt_home_to_work > 0) & (_premium_ivt_work_to_home > 0)
Is Premium School Tour Available,_school_premium_available,(_premium_ivt_home_to_school > 0) & (_premium_ivt_school_to_home > 0)
Walk / Transit to Work Time,_min_work_walk_premium,"np.where(_work_premium_available, np.minimum(_roundtrip_premium_time_to_work, _roundtrip_walk_time_to_work), _roundtrip_walk_time_to_work)"
Walk / Transit to School Time,_min_school_walk_premium,"np.where(_school_premium_available, np.minimum(_roundtrip_premium_time_to_school, _roundtrip_walk_time_to_school), _roundtrip_walk_time_to_school)"
Worker Auto Savings,work_auto_savings,"np.where(persons.is_worker, _min_work_walk_transit - roundtrip_auto_time_to_work, 0)"
School Auto Savings,school_auto_savings,"np.where(persons.is_student, _min_school_walk_transit - roundtrip_auto_time_to_school, 0)"
# TODO: Taken from the MTC model, but not clear why its capped at 120
Worker Auto Savings,work_auto_savings_ratio,"(work_auto_savings / 120.0).clip(-1.0, 1.0)"
Work Rail Proportion,worker_rail_proportion,np.nan_to_num(_min_work_walk_premium / _min_work_walk_premium)
School Rail Proportion,school_rail_proportion,np.nan_to_num(_min_school_walk_premium / _min_school_walk_premium)
